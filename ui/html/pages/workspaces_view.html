{{define "title"}}Workspaces View{{end}}

{{define "main"}}

{{template "modal" .}}
<div class="container mt-5 flex-grow-1">
  <div class="row mb-4 align-items-center">
    <div class="col-md-8">
      <h2>Workspaces View</h2>
    </div>
    <div class="col-md-4 text-end">
      <a href="/workspace/create" class="btn btn-primary">Create Workspace</a>
    </div>
  </div>

  {{if .Workspaces}}
  <div class="row g-3"> <!-- Bootstrap grid to create gaps between cards -->
    {{range .Workspaces}}
    <div class="col-md-6"> <!-- Each workspace takes up half the row on medium screens -->
      <div class="card h-100"> <!-- Card structure with full height -->
        <div class="card-body">
          <h5 class="card-title">{{.Title}}</h5> <!-- Workspace title -->
          <p class="card-text">{{.Description}}</p> <!-- Workspace description -->

          <div class="d-flex justify-content-end gap-2"> <!-- Buttons aligned to the right -->
            <a href="/workspace/{{.ID}}/tasks" class="btn btn-sm btn-success">View Tasks</a>
            <a href="/workspace/edit/{{.ID}}" class="btn btn-sm btn-warning">Edit</a>
            <form action="/workspace/delete/{{.ID}}" method="POST" class="delete-workspace-form">
              <button type="submit" class="btn btn-sm btn-danger">Delete</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {{end}}
  </div>
  {{else}}
  <p>No workspaces have been added...</p>
  {{end}}
</div>
<script src="/static/js/modal.js"></script>
{{end}}
